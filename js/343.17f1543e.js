"use strict";(self["webpackChunktilda_clone"]=self["webpackChunktilda_clone"]||[]).push([[343],{827:function(t,e,a){a.d(e,{Z:function(){return u}});var l=a(252);const i={class:"footer"},s=(0,l._)("div",{class:"container"},[(0,l._)("div",{class:"wrapper row"},[(0,l._)("div",{class:"social-sites col-12"},[(0,l._)("ul",{class:"social-sites-list"},[(0,l._)("li",{class:"social-sites-list__item"},[(0,l._)("a",{href:"javascript:void(0)",target:"_blank",rel:"nofollow","aria-label":"Go to twitter"},[(0,l._)("svg",{width:"48",height:"48","aria-hidden":"true",role:"img"},[(0,l._)("use",{"xlink:href":"#twitter-icon"})])])]),(0,l._)("li",{class:"social-sites-list__item"},[(0,l._)("a",{href:"javascript:void(0)",target:"_blank",rel:"nofollow","aria-label":"Go to vk"},[(0,l._)("svg",{width:"48",height:"48","aria-hidden":"true",role:"img"},[(0,l._)("use",{"xlink:href":"#vk-icon"})])])]),(0,l._)("li",{class:"social-sites-list__item"},[(0,l._)("a",{href:"javascript:void(0)",target:"_blank",rel:"nofollow","aria-label":"Go to youtube"},[(0,l._)("svg",{width:"48",height:"48","aria-hidden":"true",role:"img"},[(0,l._)("use",{"xlink:href":"#youtube-icon"})])])]),(0,l._)("li",{class:"social-sites-list__item"},[(0,l._)("a",{href:"javascript:void(0)",target:"_blank",rel:"nofollow","aria-label":"Go to telegram"},[(0,l._)("svg",{width:"48",height:"48","aria-hidden":"true",role:"img"},[(0,l._)("use",{"xlink:href":"#telegram-icon"})])])]),(0,l._)("li",{class:"social-sites-list__item"},[(0,l._)("a",{href:"javascript:void(0)",target:"_blank",rel:"nofollow","aria-label":"Go to instagram"},[(0,l._)("svg",{width:"48",height:"48","aria-hidden":"true",role:"img"},[(0,l._)("use",{"xlink:href":"#instagram-icon"})])])])])]),(0,l._)("div",{class:"footer-links col-12"},[(0,l._)("ul",{class:"footer-links-list"},[(0,l._)("li",{class:"footer-links-list__item"},[(0,l._)("a",{href:"javascript:void(0);",class:"link"},"Тильда Паблишинг")]),(0,l._)("li",{class:"footer-links-list__item"},[(0,l._)("a",{href:"javascript:void(0);",class:"link"},"Тарифы")]),(0,l._)("li",{class:"footer-links-list__item"},[(0,l._)("a",{href:"javascript:void(0);",class:"link"},"Шаблоны")]),(0,l._)("li",{class:"footer-links-list__item"},[(0,l._)("a",{href:"javascript:void(0);",class:"link"},"#madeontilda")]),(0,l._)("li",{class:"footer-links-list__item"},[(0,l._)("a",{href:"javascript:void(0);",class:"link"},"Блог")]),(0,l._)("li",{class:"footer-links-list__item"},[(0,l._)("a",{href:"javascript:void(0);",class:"link"},"Вакансии")]),(0,l._)("li",{class:"footer-links-list__item"},[(0,l._)("a",{href:"javascript:void(0);",class:"link"},"Найти дизайнера")]),(0,l._)("li",{class:"footer-links-list__item"},[(0,l._)("a",{href:"javascript:void(0);",class:"link"},"Обучение")]),(0,l._)("li",{class:"footer-links-list__item"},[(0,l._)("a",{href:"javascript:void(0);",class:"link"},"Помощь")])])])])],-1),o=[s];function n(t,e,a,s,n,r){return(0,l.wg)(),(0,l.iD)("footer",i,o)}var r={name:"FooterComponent"},c=a(744);const d=(0,c.Z)(r,[["render",n]]);var u=d},18:function(t,e,a){a.d(e,{Z:function(){return u}});var l=a(252);const i=(0,l._)("svg",{class:"waves-icon",width:"14",height:"14","aria-hidden":"true",role:"img"},[(0,l._)("use",{href:"#waves"})],-1),s={class:"container"},o={class:"wrapper row"};function n(t,e,a,n,r,c){return(0,l.wg)(),(0,l.iD)("header",null,[i,(0,l._)("div",s,[(0,l._)("div",o,[(0,l.WI)(t.$slots,"leftItems"),(0,l.WI)(t.$slots,"rightItems")])])])}var r={name:"HeaderComponent"},c=a(744);const d=(0,c.Z)(r,[["render",n]]);var u=d},856:function(t,e,a){a.d(e,{Z:function(){return _}});var l=a(252);const i={class:"content"},s={class:"content__head"},o={class:"content__body"},n={class:"content__footer"};function r(t,e,a,r,c,d){return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",i,[(0,l._)("div",s,[(0,l.WI)(t.$slots,"modalHead")]),(0,l._)("div",o,[(0,l.WI)(t.$slots,"modalBody")]),(0,l._)("div",n,[(0,l.WI)(t.$slots,"modalFooter")])])])}var c=a(907),d={name:"ModalLayout",computed:{...(0,c.Se)(["getModalState"])},mounted(){document.addEventListener("click",(t=>{t.target===document.querySelector("#settingsModal")?this.changeSettingsModalState():t.target===document.querySelector("#modal")&&this.changeModalState()}))},methods:{...(0,c.OI)(["changeModalState","changeSettingsModalState"])}},u=a(744);const g=(0,u.Z)(d,[["render",r]]);var _=g},407:function(t,e,a){a.r(e),a.d(e,{default:function(){return ee}});var l=a(252),i=a(577),s=a(963),o=a(925);const n={class:"left-items col-10 col-md-6"},r={class:"left-items__logo"},c=(0,l._)("img",{class:"icon",src:o,alt:"Logotype"},null,-1),d={class:"nav"},u={class:"nav-list"},g={class:"nav-list__item"},_=(0,l.Uk)(" Мои сайты "),p={class:"nav-list__item"},h=(0,l.Uk)(" Профиль "),m=(0,l._)("div",{class:"right-items col-2 col-md-6"},[(0,l._)("ul",{class:"nav-list"},[(0,l._)("li",{class:"nav-list__item"},[(0,l._)("a",{href:"javascript:void(0);",class:"link"},"Выйти")])])],-1),v=(0,l._)("label",{for:"text-input"},"Ваш домен",-1),k=["placeholder"],f=(0,l._)("p",null," Пример: google.com ",-1),w={class:"top"},b=(0,l._)("h6",null,"Настройки страницы",-1),C={class:"tabs"},M=["onClick"],S={key:0,class:"main"},I={class:"main__field"},j=(0,l._)("label",{for:"title-input"},"Заголовок",-1),P={class:"main__field"},y=(0,l._)("label",{for:"description-input"},"Описание",-1),V={class:"main__field"},D=(0,l._)("label",{for:"url-input"},"Адрес страницы",-1),U=(0,l.Uk)(" Основной URL сайта можно поменять в "),H=(0,l._)("button",{class:"link"}," настройках сайта ",-1),L=(0,l.Uk)(". Там же вы можете подключить "),B=(0,l.Uk)(". "),W={key:1,class:"badge"},Z=(0,l._)("h5",null,"Выберите изображение бейджика",-1),x={class:"previews-list"},E=["onClick"],q=["src","alt"];function z(t,e,a,o,z,T){const $=(0,l.up)("router-link"),F=(0,l.up)("Header"),G=(0,l.up)("PagesPanel"),N=(0,l.up)("PagesList"),O=(0,l.up)("Footer"),Y=(0,l.up)("InputModalLayout");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(F,{class:"header"},{leftItems:(0,l.w5)((()=>[(0,l._)("div",n,[(0,l._)("div",r,[(0,l.Wm)($,{to:"/","aria-label":"Go to homepage"},{default:(0,l.w5)((()=>[c])),_:1})]),(0,l._)("nav",d,[(0,l._)("ul",u,[(0,l._)("li",g,[(0,l.Wm)($,{to:"/",class:"link"},{default:(0,l.w5)((()=>[_])),_:1})]),(0,l._)("li",p,[(0,l.Wm)($,{to:"/profile",class:"link"},{default:(0,l.w5)((()=>[h])),_:1})])])])])])),rightItems:(0,l.w5)((()=>[m])),_:1}),(0,l.Wm)(G),(0,l.Wm)(N,{"all-pages":t.getProjectData.pages},null,8,["all-pages"]),(0,l.Wm)(O),(0,l.Wm)(Y,{id:"modal",class:(0,i.C_)({modal:t.getModalState,"visually-hidden":!t.getModalState})},{modalHead:(0,l.w5)((()=>[(0,l._)("h6",null,(0,i.zw)(t.getModalContent.title),1),(0,l._)("button",{class:"close","aria-label":"Close modal",onClick:e[0]||(e[0]=(...t)=>T.closeModal&&T.closeModal(...t))})])),modalBody:(0,l.w5)((()=>[v,(0,l.wy)((0,l._)("input",{id:"text-input","onUpdate:modelValue":e[1]||(e[1]=t=>z.inputValue=t),placeholder:t.getDomain,class:(0,i.C_)(["modal-input_js",{error:z.error}]),type:"text",onInput:e[2]||(e[2]=t=>T.checkInputValue(z.inputValue))},null,42,k),[[s.nr,z.inputValue]]),f])),modalFooter:(0,l.w5)((()=>[(0,l._)("button",{class:"button cancel",onClick:e[3]||(e[3]=(...t)=>T.closeModal&&T.closeModal(...t))}," Отмена "),(0,l._)("button",{class:(0,i.C_)([{error:z.error},"button apply"]),onClick:e[4]||(e[4]=t=>T.applyButtonHandler(z.inputValue))},(0,i.zw)(t.getModalContent.actionButton),3)])),_:1},8,["class"]),(0,l.Wm)(Y,{id:"settingsModal",ref:"modalWrapper",class:(0,i.C_)({modal:t.getSettingsModalState,"visually-hidden":!t.getSettingsModalState})},{modalHead:(0,l.w5)((()=>[(0,l._)("div",w,[b,(0,l._)("button",{class:"close","aria-label":"Close modal",onClick:e[5]||(e[5]=(...t)=>T.closeSettingsModal&&T.closeSettingsModal(...t))})]),(0,l._)("div",C,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.getTabs.list,(e=>((0,l.wg)(),(0,l.iD)("button",{key:e.id,class:(0,i.C_)([{active:e.title===t.getTabs.active},"tabs__tab"]),onClick:a=>t.setActiveTab(e.title)},(0,i.zw)(e.title),11,M)))),128))])])),modalBody:(0,l.w5)((()=>["Главное"===t.getTabs.active?((0,l.wg)(),(0,l.iD)("div",S,[(0,l._)("div",I,[j,(0,l.wy)((0,l._)("input",{id:"title-input","onUpdate:modelValue":e[6]||(e[6]=t=>z.titleInputValue=t),class:(0,i.C_)({error:z.titleError}),placeholder:"Page 1",onInput:e[7]||(e[7]=e=>T.checkTitleInputValue(z.titleInputValue,t.getSettingsModalContent.title))},null,34),[[s.nr,z.titleInputValue]])]),(0,l._)("div",P,[y,(0,l.wy)((0,l._)("input",{id:"description-input","onUpdate:modelValue":e[8]||(e[8]=t=>z.descriptionInputValue=t),placeholder:"Описание страницы"},null,512),[[s.nr,z.descriptionInputValue]])]),(0,l._)("div",V,[D,(0,l.wy)((0,l._)("input",{id:"url-input","onUpdate:modelValue":e[9]||(e[9]=t=>z.urlInputValue=t),class:(0,i.C_)({error:z.urlError}),placeholder:"page-1",onInput:e[10]||(e[10]=e=>T.checkUrlInputValue(z.urlInputValue,t.getSettingsModalContent.url))},null,34),[[s.nr,z.urlInputValue]]),(0,l._)("p",null,[U,H,L,(0,l._)("button",{class:"link",onClick:e[11]||(e[11]=t=>T.domainButtonHandler())}," свой домен "),B])])])):"Бейджик"===t.getTabs.active?((0,l.wg)(),(0,l.iD)("div",W,[Z,(0,l._)("ul",x,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.getImageLibrary,(t=>((0,l.wg)(),(0,l.iD)("li",{key:t,class:"previews-list__item"},[(0,l._)("button",{class:(0,i.C_)({active:t===z.activeImage}),onClick:e=>z.activeImage=t},[(0,l._)("img",{src:t,alt:t},null,8,q)],10,E)])))),128))])])):(0,l.kq)("",!0)])),modalFooter:(0,l.w5)((()=>[(0,l._)("button",{class:"button cancel",onClick:e[12]||(e[12]=(...t)=>T.closeSettingsModal&&T.closeSettingsModal(...t))}," Закрыть "),(0,l._)("button",{class:(0,i.C_)([{error:z.titleError||z.urlError},"button apply"]),onClick:e[13]||(e[13]=e=>T.saveChangesButtonHandler(t.getSettingsModalContent.id))}," Сохранить изменения ",2)])),_:1},8,["class"])],64)}var T=a(907),$=a(18),F=a.p+"img/domain.bab58f95.svg",G=a.p+"img/publish.2f8e11d8.svg",N=a.p+"img/requests.926311ad.svg",O=a(732);const Y={class:"project-options"},A={class:"container"},K={class:"wrapper row"},R={class:"panel col-12"},J={class:"panel__left"},Q=(0,l._)("img",{class:"link__icon",src:F,alt:"domain"},null,-1),X=(0,l.Uk)(" Подключить домен "),tt=[Q,X],et=(0,l._)("button",{class:"link","aria-label":"Publish all pages"},[(0,l._)("img",{class:"link__icon",src:G,alt:"publish"}),(0,l.Uk)(" Опубликовать все страницы ")],-1),at=(0,l._)("button",{class:"link","aria-label":"Requests"},[(0,l._)("img",{class:"link__icon",src:N,alt:"requests"}),(0,l.Uk)(" Заявки ")],-1),lt={class:"panel__right"},it={class:"project-link"},st=(0,l._)("svg",{width:"14",height:"14","aria-hidden":"true",role:"img"},[(0,l._)("use",{href:"#external-icon"})],-1),ot=(0,l.Uk)(" Адрес сайта: "),nt={href:"javascript:void(0);",class:"link"},rt={class:"panel col-12"},ct={class:"panel__left"},dt={class:"panel__right"},ut=(0,l._)("button",{"aria-label":"Project settings",class:"button default"},[(0,l._)("svg",{class:"button__icon default__icon",width:"14",height:"14","aria-hidden":"true",role:"img"},[(0,l._)("use",{href:"#settings-icon"})]),(0,l.Uk)(" Настройки сайта ")],-1),gt=(0,l._)("img",{src:O,class:"button__icon",alt:"create new page"},null,-1),_t=(0,l.Uk)(" Создать новую страницу "),pt=[gt,_t];function ht(t,e,a,s,o,n){return(0,l.wg)(),(0,l.iD)("div",Y,[(0,l._)("div",A,[(0,l._)("div",K,[(0,l._)("div",R,[(0,l._)("div",J,[(0,l._)("button",{class:"link","aria-label":"Connect domain",onClick:e[0]||(e[0]=t=>n.connectButtonHandler())},tt),et,at]),(0,l._)("div",lt,[(0,l._)("span",it,[st,ot,(0,l._)("a",nt,(0,i.zw)(t.getProjectData.url),1)])])]),(0,l._)("div",rt,[(0,l._)("div",ct,[(0,l._)("h2",null,(0,i.zw)(t.getProjectData.title),1)]),(0,l._)("div",dt,[ut,(0,l._)("button",{"aria-label":"Create new page",class:"button apply",onClick:e[1]||(e[1]=(...e)=>t.addNewPage&&t.addNewPage(...e))},pt)])])])])])}var mt={name:"ProjectPagesPanel",computed:{...(0,T.Se)(["getProjectData"])},methods:{...(0,T.OI)(["addNewPage","changeModalState","setModalContent"]),connectButtonHandler(){this.setModalContent({title:"Подключить домен",actionButton:"Подключить"}),this.changeModalState()}}},vt=a(744);const kt=(0,vt.Z)(mt,[["render",ht]]);var ft=kt;const wt={class:"pages-list"},bt={class:"container"},Ct={class:"wrapper row"},Mt=(0,l._)("h6",{class:"col-12"}," Страницы сайта: ",-1),St={key:0,class:"pages col-12"},It={key:1,class:"col-12"};function jt(t,e,a,i,s,o){const n=(0,l.up)("ProjectPage");return(0,l.wg)(),(0,l.iD)("div",wt,[(0,l._)("div",bt,[(0,l._)("div",Ct,[Mt,a.allPages.length?((0,l.wg)(),(0,l.iD)("ul",St,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.allPages,(t=>((0,l.wg)(),(0,l.j4)(n,{key:t.id,page:t},null,8,["page"])))),128))])):((0,l.wg)(),(0,l.iD)("h3",It," Добавьте первую страницу "))])])])}const Pt={class:"page"},yt={class:"page-link-wrap__left"},Vt=["src"],Dt={class:"page-title"},Ut={key:0,class:"page-title__icon",width:"14",height:"16","aria-hidden":"true",role:"img"},Ht=(0,l._)("use",{href:"#home-icon"},null,-1),Lt=[Ht],Bt={class:"page__right"},Wt=(0,l._)("svg",{class:"link__icon",width:"14",height:"14","aria-hidden":"true",role:"img"},[(0,l._)("use",{href:"#home-icon"})],-1),Zt=(0,l.Uk)(" Назначить главной "),xt=[Wt,Zt],Et=(0,l._)("svg",{class:"link__icon",width:"14",height:"14","aria-hidden":"true",role:"img"},[(0,l._)("use",{href:"#settings-icon"})],-1),qt=(0,l.Uk)(" Настройки "),zt=[Et,qt],Tt=(0,l._)("svg",{class:"link__icon",width:"14",height:"14","aria-hidden":"true",role:"img"},[(0,l._)("use",{href:"#trash-icon"})],-1),$t=(0,l.Uk)(" Удалить "),Ft=[Tt,$t];function Gt(t,e,a,s,o,n){const r=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("li",Pt,[(0,l.Wm)(r,{class:"page-link-wrap",to:"/project/"+t.$route.params.projectId+"/edit/"+a.page.id},{default:(0,l.w5)((()=>[(0,l._)("div",yt,[(0,l._)("img",{src:a.page.img,class:"page-preview",alt:"img"},null,8,Vt),(0,l._)("div",Dt,[a.page.main?((0,l.wg)(),(0,l.iD)("svg",Ut,Lt)):(0,l.kq)("",!0),(0,l._)("h4",null,(0,i.zw)(a.page.title),1)])])])),_:1},8,["to"]),(0,l._)("div",Bt,[a.page.main?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("button",{key:0,class:"link","aria-label":"Page settings",onClick:e[0]||(e[0]=e=>t.setMainPage(a.page.id))},xt)),(0,l._)("button",{class:"link","aria-label":"Page settings",onClick:e[1]||(e[1]=t=>n.settingsButtonHandler())},zt),(0,l._)("button",{class:"link","aria-label":"Delete page",onClick:e[2]||(e[2]=e=>t.removePage(a.page.id))},Ft)])])}var Nt={name:"ProjectPage",props:{page:{type:Object,required:!0}},methods:{...(0,T.nv)(["fetchProjectData"]),...(0,T.OI)(["removePage","setMainPage","changeSettingsModalState","setSettingsModalContent"]),settingsButtonHandler(){this.setSettingsModalContent({title:this.page.title,description:this.page.description,url:this.page.url,id:this.page.id,img:this.page.img}),this.changeSettingsModalState()}}};const Ot=(0,vt.Z)(Nt,[["render",Gt]]);var Yt=Ot,At={name:"ProjectPagesList",components:{ProjectPage:Yt},props:{allPages:{type:Array,required:!0,default(){return[]}}}};const Kt=(0,vt.Z)(At,[["render",jt]]);var Rt=Kt,Jt=a(827),Qt=a(856),Xt={name:"ProjectPagesView",components:{Header:$.Z,PagesPanel:ft,PagesList:Rt,InputModalLayout:Qt.Z,Footer:Jt.Z},data(){return{activeImage:"",inputValue:"",error:!1,titleInputValue:"",urlInputValue:"",descriptionInputValue:"",titleError:!1,urlError:!1}},watch:{getSettingsModalContent:function(){this.titleInputValue=this.getSettingsModalContent.title,this.descriptionInputValue=this.getSettingsModalContent.description,this.urlInputValue=this.getSettingsModalContent.url,this.activeImage=this.getSettingsModalContent.img}},computed:{...(0,T.Se)(["getProjectData","getDomain","getModalState","getModalContent","getTabs","getSettingsModalState","getSettingsModalContent","getImageLibrary"])},mounted(){this.fetchProjectData(Number(this.$route.params.projectId))},methods:{...(0,T.nv)(["fetchProjectData"]),...(0,T.OI)(["updateProjectData","changeModalState","setModalContent","setActiveTab","changeSettingsModalState","addNewPage","changeDomain","savePageChanges"]),checkInputValue:function(t){const e=/^([a-z0-9]{1})((\.[a-z0-9-])|([a-z0-9-]))*\.([a-z]{2,6})(\/?)$/i;e.test(t)?this.error=!1:this.error=!0},applyButtonHandler(t){""===t?this.error=!0:(this.changeDomain(t),this.closeModal())},domainButtonHandler(){this.closeSettingsModal(),this.setModalContent({title:"Подключить домен",actionButton:"Подключить"}),this.changeModalState()},closeModal(){this.inputValue="",this.error=!1,this.changeModalState()},closeSettingsModal(){this.inputValue="",this.error=!1,this.changeSettingsModalState()},checkTitleInputValue(t,e){for(let a of this.getProjectData.pages){let l=a.title.toLowerCase().split(" ").join(""),i=t.toLowerCase().split(" ").join("");if(l===i&&i!==e.toLowerCase().split(" ").join("")||0===i.length){this.titleError=!0;break}this.titleError=!1}},checkUrlInputValue(t,e){for(let a of this.getProjectData.pages){let l=a.url.toLowerCase().split(" ").join(""),i=t.toLowerCase().split(" ").join("");if(l===i&&i!==e.toLowerCase().split(" ").join("")||i.length<3){this.urlError=!0;break}this.urlError=!1}},saveChangesButtonHandler(t){this.savePageChanges({id:t,title:this.titleInputValue,description:this.descriptionInputValue,url:this.urlInputValue,img:this.activeImage,blocks:this.blocks}),this.closeSettingsModal()}}};const te=(0,vt.Z)(Xt,[["render",z]]);var ee=te},925:function(t,e,a){t.exports=a.p+"img/logo.00e6c8d7.svg"},732:function(t,e,a){t.exports=a.p+"img/plus.053d5610.svg"}}]);
//# sourceMappingURL=343.17f1543e.js.map